<div
  *ngIf="isLoading"
  class="loading w-100 h-100 position-absolute d-flex d-flex justify-content-center align-items-center flex-column gap-2 bg-body rounded-3 z-3"
>
  <div class="spinner-border" role="status">
    <span class="sr-only">Đang tải...</span>
  </div>
  <p style="opacity: 0.7">Đang tải</p>
</div>

<div class="container-fluid mt-4">
  <div class="row">
    <!-- card-info -->
    <div class="col-xl-4 order-xl-2 mb-5 mb-xl-0">
      <div class="card card-profile shadow">
        <div class="row justify-content-center">
          <div
            class="card-profile-image rounded-circle d-flex justify-content-center"
          >
            <img src="{{ user.userAvatar }}" class="rounded-circle" />
          </div>
        </div>

        <!-- card-info -->
        <div class="card-body pt-0 pt-md-4">
          <div class="row">
            <div class="col">
              <div
                class="card-profile-stats d-flex justify-content-center mt-md-5"
              ></div>
            </div>
          </div>
          <div class="text-center">
            <h3>
              {{ user.userFirstName + " " + user.userLastName }}
            </h3>
            <div class="h5 font-weight-300">
              <i class="ni location_pin mr-2"></i>Bucharest, Romania
            </div>
            <div class="h5 mt-4">
              <i class="ni business_briefcase-24 mr-2"></i>Solution Manager -
              Creative Tim Officer
            </div>
            <div>
              <i class="ni education_hat mr-2"></i>University of Computer
              Science
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- detail-info -->
    <div class="col-xl-8 order-xl-1">
      <div class="card bg-secondary shadow">
        <div class="card-header bg-white border-0">
          <div class="row align-items-center">
            <div class="col-8">
              <h1 class="mb-0">Tài khoản</h1>
            </div>
            <div class="col-lg-4 text-right d-flex gap-2">
              <button
                class="btn btn-secondary"
                (click)="registerShelterAccount()"
              >
                Đăng ký trại cứu trợ
              </button>
            </div>
          </div>
        </div>
        <div class="card-body">
          <h4 class="heading-small text-muted mb-4">Thông tin cá nhân</h4>
          <div class="pl-lg-4">
            <div class="row">
              <div class="col-lg-6">
                <div>
                  <h6>Email</h6>
                  <input
                    class="w-100 rounded-2 p-2 mb-3"
                    type="text"
                    placeholder="Username"
                    [(ngModel)]="user.userEmail"
                    disabled="true"
                  />
                </div>
              </div>
              <div class="col-lg-6">
                <div>
                  <h6>Họ và tên</h6>
                  <input
                    type="email"
                    class="w-100 rounded-2 p-2 mb-3"
                    id="input-email"
                    [(ngModel)]="user.userFirstName + ' ' + user.userLastName"
                  />
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-6">
                <div>
                  <h6>Số điện thoại</h6>
                  <input
                    type="number"
                    class="w-100 rounded-2 p-2 mb-3"
                    placeholder="Số điện thoại"
                    [(ngModel)]="user.phoneNumber"
                  />
                </div>
              </div>
              <div class="col-lg-6">
                <div>
                  <span class="p-float-label">
                    <h6 class="addressLabel ps-0">Giới tính</h6>
                    <p-dropdown
                      [options]="genderOptions"
                      optionLabel="value"
                      class="mb-3"
                      [autoDisplayFirst]="false"
                      [(ngModel)]="selectedGender"
                    >
                    </p-dropdown>
                  </span>
                </div>
              </div>

              <div class="col-lg-6">
                <div>
                  <span class="d-flex flex-column">
                    <h6 class="addressLabel ps-0">Ngày sinh</h6>

                    <p-calendar
                      [(ngModel)]="dob"
                      class="w-100 rounded-2 mb-3"
                      [showIcon]="true"
                      dateFormat="dd/mm/yy"
                    ></p-calendar>
                  </span>
                </div>
              </div>
              <div class="col-lg-6">
                <div>
                  <span class="d-flex flex-column"> </span>
                </div>
              </div>
              <div class="d-flex justify-content-center mt-2">
                <button
                  class="btn btn-primary m-auto"
                  (click)="updateUserProfile()"
                >
                  Cập nhật thông tin
                </button>
              </div>
            </div>
          </div>
          <hr class="mt-4" />
          <h4 class="heading-small text-muted mb-1">Thú cưng đang nhận nuôi</h4>
          <div class="pl-lg-6">
            <div class="row">
              <div class="my-2">
                <div
                  class="ps-4 d-inline"
                  *ngFor="let adoption of onlineAdoptionPet"
                  (onClick)="routeToPetDetails(adoption.animal.animalID)"
                >
                  <p-avatar
                    image="{{
                      adoption.animal.animalImg
                        ? adoption.animal.animalImg
                        : 'https://firebasestorage.googleapis.com/v0/b/advance-totem-350103.appspot.com/o/Avatar%2Fava-default_pet_pfp.png?alt=media&token=3fcf7cb9-a92b-402e-bc2c-08d632d62ae0'
                    }}"
                    size="large"
                    shape="circle"
                    pTooltip="{{ adoption.animal.animalName }}"
                    tooltipPosition="bottom"
                  ></p-avatar>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
